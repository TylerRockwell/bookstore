<%= render 'filters' %>

<p>
  <%= button_to 'Add a Book', new_admin_api_book_path,
    method: :get, class: "btn btn-primary" %>
</p>

<div class="row store-listing-header">
  <div class="col-md-3">Title</div>
  <div class="col-md-2">Author</div>
  <div class="col-md-2">Published Date</div>
  <div class="col-md-1">Price</div>
  <div class="col-md-2">Category</div>
</div>

<div class="store-book-list">
  <% @books.each do |book| %>
    <div class="row <%= cycle("even", "odd") %>">
      <div class="col-md-3 store-book-title">
        <%= link_to book.title, admin_api_book_path(book) %>
      </div>
      <div class="col-md-2 store-book-author"><%= book.author %></div>
      <div class="col-md-2 store-book-published-date"><%= book.published_date %></div>
      <div class="col-md-1 store-book-price">
        <% if book.discounted_price %>
          <div class="list-price"><%= book.price_in_dollars %></div>
          <div class="sale-price"><%= number_to_currency(book.lowest_price) %></div>
        <% else %>
          <%= book.lowest_price %>
        <% end %>

      </div>
      <div class="col-md-2 store-book-category"><%= book.category %></div>
      <div class="col-md-1 store-book-edit">
        <%= link_to 'Edit', edit_admin_api_book_path(book) %>
      </div>
      <div class="col-md-1 store-book-delete">
        <%= link_to 'Delete', admin_api_book_path(book), method: :delete,
          data: { confirm: 'Are you sure?' } %>
      </div>
      <hr />
    </div>
  <% end %>
</div>
<%= paginate @books %>
